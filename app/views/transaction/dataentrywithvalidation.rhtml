<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Data Entering</title>
<%= stylesheet_link_tag 'calendar_date_select/silver.css' %>
<%= javascript_include_tag 'calendar_date_select/calendar_date_select.js'%>
<%= javascript_include_tag 'calendar_date_select/format_db.js'%>




  <script>
  function checkscreenin()
  {
  	if(event.keyCode==13)
  	{
  var bulkcount=document.getElementById("txtscreenin");

var regex = /^[s\d]*$/;
var space=/ /;
if ((!regex.test(object.value)) || (space.test(object.value))) {
alert("please enter numeric value only for bulk count")
bulkcount.value="";
bulkcount.focus();
return(false);	
} 
else
{
 this.form.txtscreenout.focus();"
}
	 
  }
  </script> 
     <script language="JavaScript">
function onlyNumbers(evt)
{
	var e = event || evt; // for trans-browser compatibility
	var charCode = e.which || e.keyCode;
	
	if (charCode > 31 && (charCode < 48 || charCode > 57))
		return false;
    
	return true;

}
function showsave1()
{
	var btsave1 = document.getElementById("btsave");
      
        btsave1.disabled=false;

	 	btsave1.focus();

}

function showsave()
{
	
	if(event.keyCode==13)
	{
	 	var btsave1 = document.getElementById("btsave");
      
        btsave1.disabled=false;

	 	btsave1.focus();
	 }	
}



 function Validate()
{
	
	
	
	var meterin=document.getElementById("entry_MeterIN");

	
	

	if(meterin.value.length<1)
	{
		alert('Please Enter Value for MeterIN')
		meterin.focus();
		return(false);		
	}
	else
	{
		
		return(true);

	}

}
</script>            
</head>

<body >

<div align="left">
  <table border="0" cellspacing="1" width="74%" id="AutoNumber1" height="238" align="left" style="border-collapse: collapse" bordercolor="#111111">
    <tr>
      <td width="101%" bgcolor="#C0C0C0" colspan="4" height="19">
      <%= error_messages_for 'entry' %>
      <b>Data 
      Entering</b></td>
    </tr>
    <tr>
      <td width="101%" colspan="4" height="191">
      <table border="0" cellpadding="3" cellspacing="3" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber2">
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Shop ID</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          <% form_tag :action => 'create' do %>
          
     		<% @shop=Shop.find(:all) %>

 			<%= collection_select(:entry, :ShopID,  @shop,  :ShopID, :ShopID,
                      {:prompt   => "Please select ShopID"},
                      {:onchange => "#{remote_function(:url  => {:controller=>'entries', :action => "getGroup"},
                                                       :with => "'ShopID='+value")}"}) %>
 

         
          </td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">
          
          <p align="center">Date&nbsp; </td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">
          <% todate=Time.now()%>
          <%= calendar_date_select_tag "entry_Date","#{todate.strftime('%Y-%m-%d')}", :popup => "force" %>
          
         
          </td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">KeyID</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          <div id="KeyIDdiv">
	<%= render :partial => 'group' %>

</div></td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Machine No.</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          <div id="MachineNodiv">
	<%= render :partial => 'machine' %>

</div></td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Machine Name</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
           <div id="MachineNamediv">
	<%= render :partial => 'machinename' %>

</div></td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Screen In</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          
           <p>
            <!--<input type="text" name="entry[ScreenIN]" id="entry_ScreenIN" onkeypress="return onlyNumbers();" onKeyDown="if(event.keyCode==13)  this.form.entry_ScreenOUT.focus();" size="20" maxlength="6">--></p>
          <%= text_field 'entry', 'ScreenIN',:onkeypress=>"return onlynumbers();"  %></p>

          </td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Screen Out</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          <input type="text" name="entry[ScreenOUT]" id="entry_ScreenOUT" size="20" onkeypress="return onlyNumbers();" onKeyDown="if(event.keyCode==13)  this.form.entry_MeterIn.focus();" maxlength="6"></td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Meter In</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          <input type="text" name="entry[MeterIN]" id="entry_MeterIn" size="20" onkeypress="return onlyNumbers();" onKeyDown="if(event.keyCode==13)  this.form.entry_MeterOUT.focus();" maxlength="6"></td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
        <tr>
          <td width="25%" align="justify" bgcolor="#E1CEA2">Meter Out</td>
          <td width="25%" align="justify" bgcolor="#E1CEA2">
          <input type="text" name="entry[MeterOUT]" id="entry_MeterOUT"size="20" onkeypress="return onlyNumbers();" onKeyDown="showsave();" onblur="showsave1();" maxlength="6"></td>
          <td width="10%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
          <td width="40%" align="justify" bgcolor="#E1CEA2">&nbsp;</td>
        </tr>
      </table>
      </td>
    </tr>
    <tr>
      <td width="18%" height="26" bgcolor="#E1CEA2">
     
      <p>
        <input type="button" value="Modify" name="btmodify"></p>
   
      </td>
      <td width="22%" height="26" bgcolor="#E1CEA2">
      
      <%= submit_to_remote 'Delete','Delete',:url => {:controller=>'entries',:action => "destroy" },:confirm=>'Are You Sure you want to delete the record? ' %>
      </td>
      <td width="34%" height="26" bgcolor="#E1CEA2">
      <input type="button" value="Counter Collection" name="btcntrcoll"></td>
      <td width="25%" height="26" bgcolor="#E1CEA2">
      <input type="button" id="btmissing" value="Short &amp; Missing Rec" name="btshortmiss"></td>
         
    </tr>
    <tr>
      <td width="18%" height="26" bgcolor="#E1CEA2">
     
      &nbsp;</td>
      <td width="22%" height="26" bgcolor="#E1CEA2">
      &nbsp;</td>
      <td width="34%" height="26" bgcolor="#E1CEA2">
      &nbsp;</td>
      <td width="25%" height="26" bgcolor="#E1CEA2">
      
      <!--<input type="submit" id="btsave" value="Save" name="btsave" style="float: right;">-->
    <%= submit_tag "Save" %>
<% end %>
      </td>
         
    </tr>
    <tr>
      <td width="18%" height="26" bgcolor="#E1CEA2">
     
      &nbsp;</td>
      <td width="22%" height="26" bgcolor="#E1CEA2">
      &nbsp;</td>
      <td width="34%" height="26" bgcolor="#E1CEA2">
      &nbsp;</td>
      <td width="25%" height="26" bgcolor="#E1CEA2">
      
      &nbsp;</td>
         
    </tr>
    <tr>
      <td width="18%" height="26" bgcolor="#E1CEA2">
     
      &nbsp;</td>
      <td width="22%" height="26" bgcolor="#E1CEA2">
      &nbsp;</td>
      <td width="34%" height="26" bgcolor="#E1CEA2">
      &nbsp;</td>
      <td width="25%" height="26" bgcolor="#E1CEA2">
      
      &nbsp;</td>
         
    </tr>
  </table>
</div>

</body>

</html>